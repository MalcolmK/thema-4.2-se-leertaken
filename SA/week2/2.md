# Assesment 2 - Architectural Patterns

__(a). Describe in your own words what the difference is between Design Patterns as taught in the previous period (the Gang-of-Four patterns) and architectural patterns.__

Het probleem dat een architectural pattern oplost ligt op een hoger/abstracter niveau dan die van een design pattern. Architectural patterns bieden een oplossing voor problemen omtrent architectuur en de kwaliteitsattributen (quality properties), zoals bijvoorbeeld keuzes omtrent indeling van systeemcomponenten. Waarbij Design Patterns - veel voorkomende - problemen oplossen die onstaan bij het ontwikkelen van software. Bijvoorbeeld hoe er duidelijke variabelnamen gekozen kunnen worden.

__(b). Design Patterns and architectural patterns are often based on the same ideas. Which Design Patterns are most similar to the architectural patterns Pipes and Filters and Indirection? (Pipes and filters is described on page 140-142 of Software Systems Architecture).__

Op sommige input zijn meerdere bewerkingen noodzakelijk. Als de volgorde van die bewerkingen onafhankelijk van elkaar moet zijn, dan moet iedere bewerking dus hetzelfde input en output type hebben. Dat is precies wat het Pipes and Filters design pattern probeert te bewerkstelligen. Het Design Pattern dat daar op lijkt is Fluent Interface.

De Proxy en Delegation Design Patterns lijken veel op de Indirection pattern. Bij deze patterns is de locatie van het object bekend. Er kunnen via dit zogenaamde tussencomponent instructies worden gestuurd naar het object. Deze tussenlaag kan onder andere dienen voor beveiliging of simplificatie van functionaliteit.

__(c). Give an example of the application of the Pipes and Filters-pattern.__

Pipes and Filters worden in Linux veel gebruikt. Ook letterlijk. Je kunt functies namelijk doormiddel van pipelines combineren. Ieder commando in Linux heeft minimaal drie channels: *STDIN*, *STDOUT* en *STDERR*. De output (die wordt geschreven naar *STDOUT*) kan weer als input dienen voor de *STDIN* channel. Door bijvoorbeeld het commando `ps` te gebruiken, zie je een hele lijst met de statussen van alle processen, zoals hieronder.

`$ ps -A`, geeft:

![ps -A output](assets/screenshot_shell_ps.png)

Zoals te zien zijn de processen die met [Fishshell](http://fishshell.com/) te maken hebben gemarkeerd.

De output (*STDOUT*) van dit commando kun je als input (*STDIN*) gebruiken voor het commando `grep`. Dus als je wilt filteren op alle processen met verband houden met Fishshell, kun je het volgende uitvoeren: `$ ps -A | grep fish`.

![ps -A | grep fish output](assets/screenshot_shell_ps_grep.png)

__(d). Lookup an architectural pattern of your choice and describe it in your own words. You are not
allowed to copy/paste any text from existing sources. Use the same format as the example description of the Shared Repository-pattern given on Blackboard. Also, have a look at the article A Pattern Language for Pattern Writing (especially patterns B.1 and B.2) for an explanation of the pattern elements in the template.__

We hebben het *__Peer-to-Peer Architectural Pattern__* gekozen.

__Pattern naam:__ *Peer-to-peer pattern*

__Beschrijving:__ Een peer-to-peer netwerk bestaat uit minimaal twee componenten, ook wel 'peers' genoemd, maar kan ook veel meer componenten of peers bevatten. Ieder component/peer in dit netwerk heeft dezelfde rechten en kan dezelfde rollen vervullen. Deze rollen kunnen ook door alle componenten/peers tegelijk vervuld worden. Ieder component of peer kan zowel de rol van node als die van server vervullen en kan connecties opstarten en afsluiten.

__Context:__ Een peer/component heeft bestanden en deelt deze via een netwerk waarbij de data niet via een centrale server loopt, maar direct tussen de componenten wordt uitgewisseld.

__Probleem:__ Het delen van bestanden via een netwerk met een centrale server heeft als nadeel dat ieder component afhankelijk is van de server voor de beschikbaarheid van de bestanden en de snelheid waarmee deze getransporteerd kunnen worden. Bij uitval van de server, gaan bij alle componenten binnen het netwerk de connecties met de server en overdracht van de bestanden verloren.

__Krachten:__

- *Performance:* Doordat het bestand vanuit meerdere plekken (in delen, door de verschillende componenten) beschikbaar wordt gesteld, is de snelheid niet afhankelijk van de capaciteiten van een enkele server. Hierdoor kunnen de dichtsbijzijnde componenten worden gekozen voor het binnenhalen van bepaalde bestandsdelen voor een zo efficiënt/snel mogelijk transport.

- *Availability:* Een bestand staat niet op één enkele locatie opgeslagen. Daardoor is de beschikbaarheid niet afhankelijk van één component. Hierdoor wordt de beschikbaarheid dus in zijn geheel vergroot (d.m.v. redundantie).

__Oplossing:__ Ieder component binnen het netwerk bevat een gedeelte van (of alle delen van een bestand). Wanneer het bestand door een bepaald component opgevraagd wordt, kan deze aan de hand van alle componenten die over gedeelten van het bestand beschikken, opnieuw worden opgebouwd.

__Consequenties:__

- Omdat bestanden tussen de peers worden uitgewisseld, moet het IP-adres van de componenten openbaar zijn. Aan de hand van een IP-adres kan de locatie van een peer bij benadering worden bepaald.

- Een ander nadeel is dat een virus ook heel snel kan worden verspreid. Wanneer een bestand (en dus ook een kwaadaardig bestand) eenmaal in een peer-to-peer netwerk zit, is het heel lastig om deze weer uit het netwerk te krijgen.